[Работа с командной строкой](https://cmd.readthedocs.io/cmd.html)
                             
## Запуск браузера и первый скрипт

Cкрипт, который откроет простую веб-страницу и заполнит форму.
                             
```python
import time

# webdriver это и есть набор команд для управления браузером
from selenium import webdriver

# импортируем класс By, который позволяет выбрать способ поиска элемента
from selenium.webdriver.common.by import By

# инициализируем драйвер браузера. После этой команды вы должны увидеть новое открытое окно браузера
driver = webdriver.Chrome()

# команда time.sleep устанавливает паузу в 5 секунд, чтобы мы успели увидеть, что происходит в браузере
time.sleep(5)

# Метод get сообщает браузеру, что нужно открыть сайт по указанной ссылке
driver.get("https://suninjuly.github.io/text_input_task.html")
time.sleep(5)

# Метод find_element позволяет найти нужный элемент на сайте, указав путь к нему. Способы поиска элементов мы обсудим позже
# Метод принимает в качестве аргументов способ поиска и значение, по которому мы будем искать
# Ищем поле для ввода текста
textarea = driver.find_element(By.CSS_SELECTOR, ".textarea")

# Напишем текст ответа в найденное поле
textarea.send_keys("get()")
time.sleep(5)

# Найдем кнопку, которая отправляет введенное решение
submit_button = driver.find_element(By.CSS_SELECTOR, ".submit-submission")

# Скажем драйверу, что нужно нажать на кнопку. После этой команды мы должны увидеть сообщение о правильном ответе
submit_button.click()
time.sleep(5)

# После выполнения всех действий мы должны не забыть закрыть окно браузера
driver.quit()
```

## Задание

Какой метод используется в Selenium WebDriver, чтобы открыть веб-страницу в браузере?

![image](https://user-images.githubusercontent.com/124737857/229304891-0d1788f6-6ef5-4443-8c2a-52662ebd3a24.png)

## Что представляет собой веб-страница?

Любая страница в интернете представляет собой `html`-файл, в котором с помощью языка разметки `HTML` описана её структура.

Практически все сайты используют язык `JavaScript`, который позволяет сделать веб-страницу интерактивной, т.е. реагировать на действия пользователя, запрашивать
у пользователя данные и возвращать их. `WebDriver` тоже позволяет выполнять `javascript`-команды в браузере.

Для полноты картины нужно упомянуть еще `CSS` (`Cascading Style Sheets` — каскадные таблицы стилей), который используется для вёрстки (красивого оформления страниц).
Благодаря `WebDriver` мы также можем поймать какую-то неожиданную проблему в оформлении — например, когда нужная пользователю кнопка оказывается перекрыта
второстепенным элементом.

Умея описывать путь к элементу на странице, мы можем найти такой элемент и выполнить с ним необходимые действия, например, отправить текст в текстовое поле или
нажать на правильную кнопку.

Далее мы рассмотрим несколько способов поиска элементов внутри страницы:

 1. Поиск с помощью `CSS`-селекторов, когда путь к элементу описывается через синтаксис `CSS`. Селектор — это описание пути к элементу на странице.
 2. Поиск с помощью указания значений тегов или атрибутов элементов: `ID`, `class`, и т.д.
 3. Поиск с помощью языка запросов `XPath`.

Поиск с помощью `CSS`-селекторов является наиболее удобным способом, т.к. он покрывает практически все возможные ситуации, и `CSS`-селекторы
выглядят более читабельными. В реальности в разных случаях может понадобиться использовать и другие методы поиска.

## Структура веб-страницы

Язык `CSS` используется для описания внешнего вида страницы, которая написана с помощью языка разметки `HTML`. Если мы хотим сказать браузеру,
что какую-то кнопку мы хотим сделать зелёной, мы сначала должны задать правило, которое позволяет выделить эту кнопку среди других элементов. Например, это можно
сделать с помощью `CSS`-селектора. Селектор однозначно выделит кнопку среди других элементов `html`-страницы, а стиль `color` задаст кнопке цвет `green`. Синтаксис такого
выражения в `CSS`-файле выглядит так:

```css
button {
  color: green;
}
```

`button` - это селектор, выражение `color: green` задает цвет элементу `button`.

Три особенности языка `HTML`:

 1. Страница на языке `HTML` состоит из элементов, начало и конец элемента задаются с помощью специальных пометок – тегов (`tag`);
 2. У тегов есть атрибуты, которые определяют свойства элементов;
 3. Страница на языке `HTML` имеет иерархическую структуру.


### 1. `Tag` – элемент или тег

Задача тегов – обозначить, какой именно тип информации на странице они представляют (картинка, текст, блок, ссылка и так далее). Например:

```html
<p>Здесь написан текст.</p>
```

В первом примере элемент обозначен открывающим (`<p>`) и закрывающим (`</p>`) тегами, между тегами помещён текст, который увидит пользователь. Некоторым тегам
закрывающий тег не нужен, достаточно только открывающего. Например, тег:

```html
<br>
```

Это тег для переноса строки, внутри него никакого текста или вложенных элементов быть не может. 

### 2. `Attribute` – атрибуты или свойства элемента

Элементам можно задавать различные стандартные свойства, а также создавать собственные свойства или атрибуты. Атрибуты обычно имеют вид: `имя="значение"`. 
Иногда знак `"="` и значение могут быть опущены или значение может быть пустой строкой: `имя=""`.

В примере добавлен атрибут `href`, который задаёт ссылку для тега `<a>`, на которую будет вести текст внутри тега.

```html
<a href="/about">Посмотреть подробнее</a> 
```

#### Атрибут `class`

Классы чаще всего используют для задания правил вёрстки с помощью `CSS`.

```html
<div class="simple-text main">Здесь написан текст.</div>
```

В примере элементу задано два класса: `simple-text` и `main`

#### Атрибут `name` 

Свойство `name`, например, используется для задания якоря (закладки) в `html`-странице. Этот атрибут тоже можно использовать в качестве селектора для поиска элемента:

```html
  <a name="top"></a>
  <p>Длинный текст</p>
  ...
  <p><a href="#top">Наверх</a></p> 
```


#### Атрибут id

Атрибут `id` – уникальный указатель на элемент. Значение `id` в общем случае не должно повторяться в пределах страницы:

```html
<button id="save_button">Сохранить</button>
```

> В современных JavaScript-фреймворках `id`-атрибуты чаще всего генерируются динамически самим фреймворком, поэтому они изменяются каждый раз при перезагрузке
страницы и совершенно нечитабельны, например: вы увидите что-то вроде `id="u_ps_0_0_n"` или `id="avadspffd"`. В таких случаях вам придется пользоваться другими
селекторами или использовать собственные `data`-атрибуты, о которых мы расскажем далее. Названия классов также могут генерироваться автоматически. Поэтому
предлагаем вам простое правило: если увидите нечеловекочитаемое значение атрибута или если значение атрибута меняется при перезагрузке страницы, то
не используйте его.

### 3. Иерархия в HTML-документах

HTML-документ часто сравнивают с моделью семейного древа, в котором есть родители, дети, братья, предки и потомки. Такое сравнение допустимо благодаря возможности
вкладывать одни элементы в другие. Вложенные (дочерние) элементы могут, в свою очередь, содержать свои дочерние элементы, следовательно, глубина вложения элементов
может быть любой.

Давайте разберёмся с терминологией данного древа:

 - потомок элемента X – элемент любой степени вложенности внутри элемента X;
 - ребёнок или дочерний элемент — прямой потомок (т.е. элемент на первом уровне вложенности);
 - предок элемента Y – любой элемент X, который включает в себя элемент Y;
 - родитель — это прямой предок (т.е. элемент, который расположен выше строго на 1 уровень);
 - братский или соседний элемент – элемент X, который расположен на одном уровне иерархии с элементом Y. Элементы X и Y имеют одного родителя.

Теперь попробуем закрепить терминологию на примере. Возьмём такой пример `HTML` кода:

```html
<div class="news">
  <div class="title">
    <p class="title_text">Selenium 4alpha is out now</p>
  </div>
  <div class="text_block">
    <p class="first">After 3 years from it’s a major release, now Selenium has put out its first alpha version of Selenium 4 on Apr 24, 2019.</p>
    <p class="second">If you want you can make your hands dirty with Selenium 4 and it’s feature by downloading the dependencies from Maven Repository.</p>
  </div>
</div>
```

Теперь нарисуем блок-схему этого HTML кода, где каждый блок будет соответствовать одному HTML элементу.

![image](https://user-images.githubusercontent.com/124737857/229371281-9baf7884-892f-47a4-b18d-82f440ca6141.png)

 - Какие элементы являются потомками элемента, имеющего class="news"? Это все остальные элементы в этом html-коде: элемент с class="title", элемент с class="title_text" и другие.
 - Какие элементы можно назвать дочерними (child) элементами для элемента с class="news"? Только элементы с class= "title" и class="text_block".
 - Какие элементы являются предками элемента с class="first"? Это элементы с class="text_block" и class="news".
 - Какой элемент является родителем элемента с class="first"? Только элемент с class="text_block".
 - Какой элемент мы можем назвать братским или соседним элементом для элемента, имеющего class="first"? Это элемент с class="second".

**Задание: подберите тег**

Какой тег используется для задания кнопки "Поиск в Google" (или "Google Search", если у вас англоязычный браузер) на сайте https://www.google.com/?

![image](https://user-images.githubusercontent.com/124737857/229371590-d949f7fc-b734-4d29-8abe-bc0052d81c76.png)

![image](https://user-images.githubusercontent.com/124737857/229371908-cf30027b-3b04-4b51-bad6-f89e19d8785b.png)

## Атрибуты, которые влияют на отображение элемента

Поговорим чуть подробнее про атрибуты элементов. Некоторые атрибуты влияют на отрисовку элемента на странице, а другие не влияют напрямую, но могут использоваться
в `JavaScript`-коде или быть нужными только для локации элемента в тестах. 

Примеры атрибутов, которые повлияют на отображение и поведение элемента на странице: 

```html
<h1 style="color: blue;"> Заголовок будет синим, т.к. цвет задан в атрибуте style </h1>
<p hidden> Атрибут hidden скрывает элемент на странице, элемент не будет показываться </p>
<button disabled> Кнопка с атрибутом disabled будет заблокирована </button>
```

## Подробнее об атрибутах (`data`-атрибуты)

Некоторые атрибуты напрямую не влияют на отображение элемента на страницах. 

А еще список атрибутов можно расширять: это значит, что разработчик может создать свой собственный атрибут и присвоить ему любые значения. Что это значит для
тестировщика? Это значит, что можно договориться с разработчиками о специальном атрибуте, который вы будете использовать в своих тестах для поиска нужных элементов
и который не будет изменяться при исправлении верстки сайта. Это добавит стабильности тестам. Правда, есть несколько ограничений: 

 - веб-сайт должен использовать стандарт HTML5 (большинство современных сайтов соответствует этому требованию)
 - использовать можно только латинские буквы, и символы дефис (`-`), двоеточие (`:`) и подчёркивание (`_`)

Также принято названия таких атрибутов начинать со слова: `"data"`, например, `"data-button"`.

Некоторые атрибуты являются универсальными, они могут относиться к любому тегу и любому типу элементов. Например, `hidden` (т.е. скрытым) можно сделать любой элемент.
Некоторые же атрибуты ассоциированы строго с определенным тегом, например, для картинки, которая задается тегом `img`, обязательно нужно указывать атрибут `src`.

> Образовательная рекомендация: если вы не совсем понимаете, что означает тег или атрибут элемента, попробуйте погуглить. Каждый кусочек этих знаний так или иначе
поможет вам в будущем.

**Для закрепления знаний про атрибуты предлагаем вам следующее задание: сопоставьте атрибут с его описанием. Не все из этих атрибутов были упомянуты ранее, так что не
стесняйтесь пользоваться любым поисковиком :)**

![image](https://user-images.githubusercontent.com/124737857/229375541-6433f463-c94c-4683-83dd-66e8879d26c9.png)

![image](https://user-images.githubusercontent.com/124737857/229376611-11d1a0b0-496b-40d4-8e58-937e8b063ddf.png)

## Задание: еще немного атрибутов

Продолжение предыдущего задания: сопоставьте атрибут с его описанием.

Не все из этих атрибутов были упомянуты ранее, так что не стесняйтесь пользоваться любым поисковиком :) 

![image](https://user-images.githubusercontent.com/124737857/229376652-147dfcc5-323b-4c43-8bfc-8fc990e16e7d.png)

![image](https://user-images.githubusercontent.com/124737857/229376964-13becb7c-c181-407b-8ba4-957d1cf99ec8.png)

## Задание: поиск атрибутов

Отметьте все атрибуты, которые используются на сайте https://www.google.com/ для задания свойств кнопки "Поиск в Google" (или "Google Search", если у вас 
англоязычный браузер) в структуре html-страницы:

![image](https://user-images.githubusercontent.com/124737857/229376986-f02fce85-8497-4a8c-a551-89e209e1edd0.png)

![image](https://user-images.githubusercontent.com/124737857/229377032-9144a9d4-b21b-4e54-ba37-5f015ce9bfeb.png)
